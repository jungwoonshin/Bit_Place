<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bean-mapper">
    <resultMap type="bean" id="beanMap">
    <id column="memno" property="memno"/>
    <result column="gitid" property="gitid"/>
    <result column="email" property="email"/>
    <result column="photo" property="photo"/>
    <result column="email_serial" property="email_serial"/>
    <result column="groupname" property="groupname"/>
    <result column="title" property="title"/>
    <result column="content_title" property="content_title"/>
    <result column="content" property="content"/>
    <result column ="edited_date" property="edited_date"/>
    <result column="titleno" property="titleno"/>
    </resultMap>
    
  <select id="group" parameterType="java.lang.Integer" resultMap="beanMap">
	SELECT BG.GROUPNAME FROM BIT_MEMBERS M 
	JOIN BIT_GROUP_MEMBERS G ON M.MEMNO = G.MEMNO 
	JOIN BIT_GROUP BG ON BG.GROUPNO = G.GROUPNO 
	WHERE M.MEMNO=#{no}
  </select>
  
  
  <select id="title" parameterType="java.lang.Integer" resultMap="beanMap">
	SELECT TITLE FROM BIT_TITLE WHERE GROUPNO = #{group};	
  </select>
  
    
  <select id="sub" parameterType="java.lang.Integer" resultMap="beanMap">
        SELECT C.MEMNO, C.CONTENT_TITLE, C.CONTENT, C.EDITED_DATE  
        FROM BIT_TITLE T JOIN BIT_CONTENT C 
        ON T.TITLENO = C.TITLENO;
  </select>
  
  
</mapper>
